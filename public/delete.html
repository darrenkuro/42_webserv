<!DOCTYPE html>
<html>
<head>
    <title>Delete Form Example</title>
</head>
<body>
    <h1>Delete Form Example</h1>
    <form id="deleteForm" action="delete" method="post">
		<label for="filename">Enter File Name to Delete:</label>
        <input type="text" id="filename" name="filename" required>
        <input type="submit" value="Delete">
    </form>

    <script>
        document.getElementById("deleteForm").addEventListener("submit", function(event) {
            event.preventDefault();

			const filename = document.getElementById("filename").value;
            const deleteUrl = this.action + "/" + encodeURIComponent(filename);
            const xhr = new XMLHttpRequest();
            xhr.open("DELETE", deleteUrl, true);

            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 204) {
                        alert("Resource deleted successfully.");
                    } else {
                        alert("Failed to delete resource.");
                    }
                }
            };

            xhr.send();
        });
    </script>
</body>
</html>
